import { createStore, applyMiddleware } from 'redux';
import { composeWithDevTools } from 'redux-devtools-extension/logOnlyInProduction';
import senderMiddleware from './senderMiddleware';
import pageReducer from './reducers/page';

export default (send: any, sendDirect: any, useDevTools = false) =>
  createStore(
    pageReducer,
    useDevTools
      ? composeWithDevTools(applyMiddleware(senderMiddleware(send, sendDirect)))
      : applyMiddleware(senderMiddleware(send, sendDirect)),
  );
