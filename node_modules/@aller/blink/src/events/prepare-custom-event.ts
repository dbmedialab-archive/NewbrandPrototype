import generalData from '../utils/general-data';
import { BlinkEvent } from '../types';

/**
 * Prepares custom data selecting the right
 * fields to send to the server
 */
export default function prepareCustomEventsForSending({
  page,
  customDomain,
  customType,
  customContent,
  customValue,
  time = new Date(),
}: {
  page: any;
  customDomain: string;
  customType: string;
  customContent: string;
  customValue: any;
  time?: Date;
}): BlinkEvent {
  const id = customDomain + customType;
  return {
    ...generalData(page.state),
    type: 'custom',
    id,
    customDomain,
    customType,
    customContent,
    customValue,
    time,
  };
}
