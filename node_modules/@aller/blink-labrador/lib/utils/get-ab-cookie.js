"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var cookie_utils_1 = require("./cookie-utils");
var abCookie;
function flushCache() {
    abCookie = null;
}
exports.flushCache = flushCache;
function getABCookie(doc) {
    if (abCookie || abCookie === 0) {
        return abCookie;
    }
    if (!doc && (typeof window === 'undefined' || !window.document)) {
        return 101;
    }
    var abCookieString = cookie_utils_1.getCookie(doc || document, 'abTestCookie');
    if (abCookieString) {
        if (abCookieString.length <= 3) {
            var abCookieParsed = parseInt(abCookieString, 10);
            if (!isNaN(abCookieParsed) &&
                abCookieParsed >= 0 &&
                abCookieParsed < 102) {
                abCookie = abCookieParsed;
                return abCookie;
            }
        }
    }
    return 101;
}
exports.default = getABCookie;
//# sourceMappingURL=get-ab-cookie.js.map