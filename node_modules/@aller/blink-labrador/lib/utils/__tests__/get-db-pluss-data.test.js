"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
var get_db_pluss_data_1 = __importDefault(require("../get-db-pluss-data"));
describe('getPlussData', function () {
    it('gets the data from cookie', function () {
        var mockDocument = {
            cookie: 'xavier_pluss=%7B%22customer_number%22%3A15664915%2C%22expiry%22%3A1529487214%2C%22access%22%3Atrue%7D; Path=/; Expires=Mon, 01 Des 2018 03:03:03 GMT; Secure;',
        };
        var noCache = true;
        var plussData = get_db_pluss_data_1.default(mockDocument, noCache);
        expect(plussData).toEqual({
            customerNumber: '15664915',
            hasAccess: true,
        });
    });
    it('returns object with null if cookie not found', function () {
        var mockDocument = {
            cookie: '',
        };
        var noCache = true;
        var plussData = get_db_pluss_data_1.default(mockDocument, noCache);
        expect(plussData).toEqual({
            customerNumber: '',
            hasAccess: false,
        });
    });
    it('returns object with null if cookie missing values', function () {
        var mockDocument = {
            cookie: 'xavier_pluss=%7B%22expiry%22%3A1529487214%2C%22access%22%3Atrue%7D; Path=/; Expires=Mon, 01 Des 2018 03:03:03 GMT; Secure;',
        };
        var noCache = true;
        var plussData = get_db_pluss_data_1.default(mockDocument, noCache);
        expect(plussData).toEqual({
            customerNumber: '',
            hasAccess: false,
        });
    });
    it('should return plussData stored in memory', function () {
        var mockDocument = { cookie: '' };
        var noCache = false;
        var plussDataCached = {
            customerNumber: '15664915',
            hasAccess: true,
        };
        var plussData = get_db_pluss_data_1.default(mockDocument, noCache, plussDataCached);
        expect(plussData).toEqual({
            customerNumber: '15664915',
            hasAccess: true,
        });
    });
});
//# sourceMappingURL=get-db-pluss-data.test.js.map