"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = getHost;

var _includes = _interopRequireDefault(require("./includes"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

// List of SLDs we support
var SECOND_LEVEL_DOMAINS = ['.co.uk', // Well, not a SLDs but..
'.blogspot.com', '.wordpress.com'];
/**
 * Cleans the hostname so we only have domain and TLD, except for blogspot URLs.
 *
 * Example:
 * www.nrk.no => nrk.no
 * torildsmat.blogspot.com => torildsmat.blogspot.com
 */

function getHost() {
  var hostname = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';
  var splitHost = hostname.split('.');

  if (splitHost.length === 1) {
    return '';
  }

  if (splitHost.length === 3) {
    if (isSLDHost(hostname)) {
      return hostname;
    }

    return "".concat(splitHost[1], ".").concat(splitHost[2]);
  }

  return hostname.replace('www.', '');
}

function isSLDHost(host) {
  return SECOND_LEVEL_DOMAINS.some(function (sld) {
    return (0, _includes["default"])(host, sld);
  });
}